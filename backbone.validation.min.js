// Backbone.Validation v0.1.2
//
// Copyright (C)2011 Thomas Pedersen
// Distributed under MIT License
//
// Documentation and full license availabe at:
// http://github.com/thedersen/backbone.validation
// ----------------------------
// Backbone.Validation
// ----------------------------
Backbone.Validation=function(c,g){var a=function(a,d,b){var f;var a=a.validation[d],h=[];if(g.isFunction(a))f=a;else{for(f in a)f!=="msg"&&a.hasOwnProperty(f)&&h.push({fn:c.Validation.validators[f],val:a[f],msg:a.msg});f=h}var a="",i;if(g.isFunction(f))return f(b);else{for(h=0;h<f.length;h++)i=f[h],(i=i.fn(b,d,i.msg,i.val))&&(a+=i);return a}};return{version:"0.1.2",bind:function(e,d){var d=d||{},b=e.model,f=d.valid||c.Validation.callbacks.valid,h=d.invalid||c.Validation.callbacks.invalid;b.validate=
function(c){var d=!1,l=!0,m,j;for(j in c){if(j==="isValid")return!1;(m=a(b,j,c[j]))?(d=!0,h(e,j,m)):f(e,j)}if(d)b.set({isValid:!1});else{for(var k in b.validation)if(g.isUndefined(c[k])&&a(b,k,b.get(k))){l=!1;break}b.set({isValid:l})}return d}},unbind:function(a){a.model.validate=void 0}}}(Backbone,_);
Backbone.Validation.callbacks={valid:function(c,g){c.$("#"+g).removeClass("invalid");c.$("#"+g).removeAttr("data-error")},invalid:function(c,g,a){c.$("#"+g).addClass("invalid");c.$("#"+g).attr("data-error",a)}};Backbone.Validation.patterns={number:/^\d$/,email:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i};
Backbone.Validation.validators=function(c,g){return{required:function(a,e,d){var b=c.isString(a)&&g.trim(a)==="",f=c.isBoolean(a)&&a===!1;if(c.isNull(a)||c.isUndefined(a)||b||f)return d||e+" is required"},min:function(a,e,d,b){a=parseInt(a,10);if(!c.isNumber(a)||a<b)return d||e+" must be larger than or equal to "+b},max:function(a,e,d,b){a=parseInt(a,10);if(!c.isNumber(a)||a>b)return d||e+" must be less than or equal to "+b},minLength:function(a,e,d,b){a=g.trim(a);if(c.isString(a)&&a.length<b)return d||
e+" must be longer than or equal to "+b+" characters"},maxLength:function(a,e,d,b){a=g.trim(a);if(c.isString(a)&&a.length>b)return d||e+" must be shorter than or equal to"+b+" characters"},pattern:function(a,e,d,b){b=Backbone.Validation.patterns[b]||b;if(c.isString(a)&&!a.match(b))return d||e+" is not a valid "+b}}}(_,jQuery);